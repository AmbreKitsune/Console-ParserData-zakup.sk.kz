from config_builder import check_file_config
from parser import main_parser
from output import output

def main():
    site, url = check_file_config()
    items: list = main_parser(site=site, url=url)
    # items = [['https://zakup.sk.kz/#/ext(popup:item/1182796/advert)', '1182796', '13.01.2026 10:55:00', '21.01.2026 11:00:00', 'Работа по ремонту оргтехники', 'Товарищество с ограниченной ответственностью "Кен-Курылыс-Сервис"', '360 000 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1179464/advert)', '1179464', '13.01.2026 10:00:00', '26.01.2026 10:00:00', 'Услуги по аренде жилых помещений для работников, работающих вахтовым методом (ДПЗ 2026-2028)', 'Товарищество с ограниченной ответственностью "KMG PetroChem"', '1 946 126 933 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1181724/advert)', '1181724', '12.01.2026 15:00:00', '20.01.2026 10:00:00', 'Работа по ремонту инструментов и приспособлений', 'Акционерное общество "Казахстанская компания по управлению электрическими сетями" (Кazakhstan Electricity Grid Operating Company) "KEGOC"', '1 794 100 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1182694/advert)', '1182694', '12.01.2026 12:00:00', '16.01.2026 10:00:00', 'Вывоз и утилизация отработанных масел (повтор)', 'Акционерное общество "Национальная компания "Қазақстан темір жолы"', '127 392,36 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1182682/advert)', '1182682', '12.01.2026 11:45:00', '16.01.2026 10:00:00', 'Вывоз и утилизация отработанных масел (повтор)', 'Акционерное общество "Национальная компания "Қазақстан темір жолы"', '41 185,4 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1181815/advert)', '1181815', '08.01.2026 11:05:00', '16.01.2026 10:00:00', 'Услуги по предоставлению информации', 'Товарищество с ограниченной ответственностью "Магистральный Водовод"', '1 500 000 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1178782/advert)', '1178782', '06.01.2026 10:00:00', '19.01.2026 10:00:00', 'Услуги по предоставлению информационно-аналитических услуг', 'Акционерное общество "Каражанбасмунай"', '4 842 278,55 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1181237/advert)', '1181237', '05.01.2026 10:00:00', '14.01.2026 10:08:00', 'Вывоз и утилизации использованных отработанного масленого фильтра', 'Акционерное общество "Национальная компания "Қазақстан темір жолы"', '22 191 ₸'], ['https://zakup.sk.kz/#/ext(popup:item/1177457/advert)', '1177457', '29.12.2025 11:00:00', '15.01.2026 11:00:00', 'Услуги по информационно-аналитическому обеспечению по деятельности и нефтегазовой отрасли РК', 'Акционерное общество "Эмбамунайгаз"', '12 349 950 ₸']]
    output(items_list=items)

if __name__ == "__main__":
    main()
